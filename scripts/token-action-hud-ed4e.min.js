const e={ID:"token-action-hud-ed4e"},t={ID:"token-action-hud-core"},s="1.4",n={ability:"DND5E.Ability",check:"tokenActionHud.dnd5e.check",condition:"tokenActionHud.dnd5e.condition",effect:"DND5E.Effect",feature:"ITEM.TypeFeat",item:"tokenActionHud.dnd5e.item",save:"DND5E.ActionSave",skill:"tokenActionHud.dnd5e.skill",spell:"ITEM.TypeSpell",utility:"DND5E.ActionUtil"},i={bonus:"fas fa-plus",crew:"fas fa-users",day:"fas fa-hourglass-end",hour:"fas fa-hourglass-half",lair:"fas fa-home",minute:"fas fa-hourglass-start",legendary:"fas fas fa-dragon",reaction:"fas fa-bolt",special:"fas fa-star"},a="fas fa-circle-c",o="fas fa-sun",l="fas fa-circle-r",d={.5:"fas fa-adjust",1:"fas fa-check",2:"fas fa-check-double"},c={_1stLevelSpells:{id:"1st-level-spells",name:"tokenActionHud.dnd5e.1stLevelSpells",type:"system"},_2ndLevelSpells:{id:"2nd-level-spells",name:"tokenActionHud.dnd5e.2ndLevelSpells",type:"system"},_3rdLevelSpells:{id:"3rd-level-spells",name:"tokenActionHud.dnd5e.3rdLevelSpells",type:"system"},_4thLevelSpells:{id:"4th-level-spells",name:"tokenActionHud.dnd5e.4thLevelSpells",type:"system"},_5thLevelSpells:{id:"5th-level-spells",name:"tokenActionHud.dnd5e.5thLevelSpells",type:"system"},_6thLevelSpells:{id:"6th-level-spells",name:"tokenActionHud.dnd5e.6thLevelSpells",type:"system"},_7thLevelSpells:{id:"7th-level-spells",name:"tokenActionHud.dnd5e.7thLevelSpells",type:"system"},_8thLevelSpells:{id:"8th-level-spells",name:"tokenActionHud.dnd5e.8thLevelSpells",type:"system"},_9thLevelSpells:{id:"9th-level-spells",name:"tokenActionHud.dnd5e.9thLevelSpells",type:"system"},abilities:{id:"abilities",name:"tokenActionHud.dnd5e.abilities",type:"system"},actions:{id:"actions",name:"DND5E.ActionPl",type:"system"},activeFeatures:{id:"active-features",name:"tokenActionHud.dnd5e.activeFeatures",type:"system"},artificerInfusions:{id:"artificer-infusions",name:"tokenActionHud.dnd5e.artificerInfusions",type:"system"},atWillSpells:{id:"at-will-spells",name:"tokenActionHud.dnd5e.atWillSpells",type:"system"},backgroundFeatures:{id:"background-features",name:"tokenActionHud.dnd5e.backgroundFeatures",type:"system"},bonusActions:{id:"bonus-actions",name:"tokenActionHud.dnd5e.bonusActions",type:"system"},cantrips:{id:"cantrips",name:"tokenActionHud.dnd5e.cantrips",type:"system"},channelDivinity:{id:"channel-divinity",name:"tokenActionHud.dnd5e.channelDivinity",type:"system"},checks:{id:"checks",name:"tokenActionHud.dnd5e.checks",type:"system"},classFeatures:{id:"class-features",name:"tokenActionHud.dnd5e.classFeatures",type:"system"},combat:{id:"combat",name:"tokenActionHud.combat",type:"system"},conditions:{id:"conditions",name:"tokenActionHud.dnd5e.conditions",type:"system"},consumables:{id:"consumables",name:"ITEM.TypeConsumablePl",type:"system"},containers:{id:"containers",name:"ITEM.TypeContainerPl",type:"system"},crewActions:{id:"crew-actions",name:"tokenActionHud.dnd5e.crewActions",type:"system"},defensiveTactics:{id:"defensive-tactics",name:"tokenActionHud.dnd5e.defensiveTactics",type:"system"},eldritchInvocations:{id:"eldritch-invocations",name:"tokenActionHud.dnd5e.eldritchInvocations",type:"system"},elementalDisciplines:{id:"elemental-disciplines",name:"tokenActionHud.dnd5e.elementalDisciplines",type:"system"},equipment:{id:"equipment",name:"ITEM.TypeEquipmentPl",type:"system"},equipped:{id:"equipped",name:"DND5E.Equipped",type:"system"},feats:{id:"feats",name:"tokenActionHud.dnd5e.feats",type:"system"},fightingStyles:{id:"fighting-styles",name:"tokenActionHud.dnd5e.fightingStyles",type:"system"},huntersPrey:{id:"hunters-prey",name:"tokenActionHud.dnd5e.huntersPrey",type:"system"},innateSpells:{id:"innate-spells",name:"tokenActionHud.dnd5e.innateSpells",type:"system"},kiAbilities:{id:"ki-abilities",name:"tokenActionHud.dnd5e.kiAbilities",type:"system"},lairActions:{id:"lair-actions",name:"tokenActionHud.dnd5e.lairActions",type:"system"},legendaryActions:{id:"legendary-actions",name:"tokenActionHud.dnd5e.legendaryActions",type:"system"},loot:{id:"loot",name:"ITEM.TypeLootPl",type:"system"},maneuvers:{id:"maneuvers",name:"tokenActionHud.dnd5e.maneuvers",type:"system"},metamagicOptions:{id:"metamagic-options",name:"tokenActionHud.dnd5e.metamagicOptions",type:"system"},monsterFeatures:{id:"monster-features",name:"tokenActionHud.dnd5e.monsterFeatures",type:"system"},multiattacks:{id:"multiattacks",name:"tokenActionHud.dnd5e.multiattacks",type:"system"},otherActions:{id:"other-actions",name:"tokenActionHud.dnd5e.otherActions",type:"system"},pactBoons:{id:"pact-boons",name:"tokenActionHud.dnd5e.pactBoons",type:"system"},pactSpells:{id:"pact-spells",name:"tokenActionHud.dnd5e.pactSpells",type:"system"},passiveEffects:{id:"passive-effects",name:"DND5E.EffectPassive",type:"system"},passiveFeatures:{id:"passive-features",name:"tokenActionHud.dnd5e.passiveFeatures",type:"system"},psionicPowers:{id:"psionic-powers",name:"tokenActionHud.dnd5e.psionicPowers",type:"system"},raceFeatures:{id:"race-features",name:"tokenActionHud.dnd5e.raceFeatures",type:"system"},reactions:{id:"reactions",name:"DND5E.ReactionPl",type:"system"},rests:{id:"rests",name:"tokenActionHud.dnd5e.rests",type:"system"},runes:{id:"runes",name:"tokenActionHud.dnd5e.runes",type:"system"},saves:{id:"saves",name:"DND5E.ClassSaves",type:"system"},skills:{id:"skills",name:"tokenActionHud.dnd5e.skills",type:"system"},superiorHuntersDefense:{id:"superior-hunters-defense",name:"tokenActionHud.dnd5e.superiorHuntersDefense",type:"system"},temporaryEffects:{id:"temporary-effects",name:"DND5E.EffectTemporary",type:"system"},token:{id:"token",name:"tokenActionHud.token",type:"system"},tools:{id:"tools",name:"ITEM.TypeToolPl",type:"system"},unequipped:{id:"unequipped",name:"DND5E.Unequipped",type:"system"},utility:{id:"utility",name:"tokenActionHud.utility",type:"system"},weapons:{id:"weapons",name:"ITEM.TypeWeaponPl",type:"system"}};let r=null;Hooks.once("tokenActionHudCoreApiReady",(async t=>{r=class Utils{static getSetting(s,n=null){let i=n??null;try{i=game.settings.get(e.ID,s)}catch{t.api.Logger.debug(`Setting '${s}' not found`)}return i}static async setSetting(s,n){try{n=await game.settings.set(e.ID,s,n),t.api.Logger.debug(`Setting '${s}' set to '${n}'`)}catch{t.api.Logger.debug(`Setting '${s}' not found`)}}}}));let y=null;Hooks.once("tokenActionHudCoreApiReady",(async e=>{y=class ActionHandler extends e.api.ActionHandler{actors=null;tokens=null;actorType=null;items=null;showGeneral=null;showFavorites=null;showTalents=null;showSkills=null;showMatrices=null;showInventory=null;showStatusToggle=null;showCombat=null;async buildSystemActions(t){if(this.actors=this.actor?[this.actor]:this._getActors(),this.tokens=this.token?[this.token]:this._getTokens(),this.actorType=this.actor?.type,this.actor){let t=this.actor.items;t=e.api.Utils.sortItemsByName(t),this.items=t}this.showGeneral=r.getSetting("showGeneral"),this.showFavorites=r.getSetting("showFavorites"),this.showTalents=r.getSetting("showTalents"),this.showSkills=r.getSetting("showSkills"),this.showMatrices=r.getSetting("showMatrices"),this.showInventory=r.getSetting("showInventory"),this.showStatusToggle=r.getSetting("showStatusToggle"),this.showCombat=r.getSetting("showCombat"),this.actor&&await this.buildCharacterActions()}async#e(){this.buildGeneralCategory()}#t(){if(!settings.get("showGeneral"))return;const e="creature"===this.actor.type;let t=["earthdawn.d.dexterity","earthdawn.s.strength","earthdawn.t.toughness","earthdawn.p.perception","earthdawn.w.willpower","earthdawn.c.charisma"].map((e=>({name:this.i18n(e),id:null,encodedValue:["attribute",this.token.id,e].join(this.delimiter)}))).filter((e=>!!e)),s={id:"att",type:"system"};s.actions=t;let n=this.initializeEmptySubcategory();n.actions=[{name:this.i18n("earthdawn.r.recovery"),id:null,encodedValue:["recovery",this.token.id,"recovery"].join(this.delimiter)}],e||n.actions.push({name:this.i18n("earthdawn.n.newDay"),id:null,encodedValue:["newday",this.token.id,"newday"].join(this.delimiter)},{name:this.i18n("earthdawn.h.halfMagic"),id:null,encodedValue:["halfmagic",this.token.id,"halfmagic"].join(this.delimiter)});const i={"earthdawn.u.useKarma":"usekarma"};let a=["earthdawn.u.useKarma"].map((e=>({name:this.i18n(e),id:null,encodedValue:["toggle",this.token.id,i[e]].join(this.delimiter),cssClass:"true"===this.actor.data.usekarma?"active":""}))).filter((e=>!!e)).sort(((e,t)=>e.name.localeCompare(t.name))),o=this.initializeEmptySubcategory();o.actions=a;let l=this.initializeEmptyCategory("general");return l.name=this.i18n("tokenActionHud.general"),this._combineSubcategoryWithCategory(l,this.i18n("earthdawn.a.attributes"),s),this._combineSubcategoryWithCategory(l,this.i18n("earthdawn.o.other"),n),e||this._combineSubcategoryWithCategory(l,this.i18n("tokenActionHud.ed4e.systems"),o),l}}}));let m=null,u=null;function register(t){game.settings.register(e.ID,"showGeneral",{name:"Show General",hint:"Display category for general rolls like Attributes, Half-Magic or Recovery",scope:"client",config:!0,type:Boolean,default:!0,onChange:e=>{t(e)}}),game.settings.register(e.ID,"showFavorites",{name:"Show Favorites",hint:"Display category for items marked as favorites",scope:"client",config:!0,type:Boolean,default:!0,onChange:e=>{t(e)}}),game.settings.register(e.ID,"showTalents",{name:"Show Talents",hint:"Display category for all talents",scope:"client",config:!0,type:Boolean,default:!0,onChange:e=>{t(e)}}),game.settings.register(e.ID,"showSkills",{name:"Show Skills",hint:"Display category for all skills",scope:"client",config:!0,type:Boolean,default:!0,onChange:e=>{t(e)}}),game.settings.register(e.ID,"showMatrices",{name:"Show Matrices",hint:"Display category for all spell matrices",scope:"client",config:!0,type:Boolean,default:!0,onChange:e=>{t(e)}}),game.settings.register(e.ID,"showInventory",{name:"Show Inventory",hint:"Display category for weapons and equipment",scope:"client",config:!0,type:Boolean,default:!0,onChange:e=>{t(e)}}),game.settings.register(e.ID,"showStatusToggle",{name:"Show Status Toggle",hint:"Display category for toggling system use and conditions",scope:"client",config:!0,type:Boolean,default:!0,onChange:e=>{t(e)}}),game.settings.register(e.ID,"showCombat",{name:"Show Combat",hint:"Display category for combat (Weapons, Matrices, Favorites, etc.",scope:"client",config:!0,type:Boolean,default:!0,onChange:e=>{t(e)}})}let p=null;Hooks.once("tokenActionHudCoreApiReady",(async e=>{p=class SystemManager extends e.api.SystemManager{doGetCategoryManager(t){return new e.api.CategoryManager}doGetActionHandler(e){return new y(e)}getAvailableRollHandlers(){return{core:"Core Earthdawn 4th Edition"}}doGetRollHandler(e){new null}doRegisterSettings(e){register(e)}async doRegisterDefaultFlags(){return null}}}));export{n as ACTION_TYPE,i as ACTIVATION_TYPE_ICON,y as ActionHandler,a as CONCENTRATION_ICON,t as CORE_MODULE,m as DEFAULTS,c as GROUP,e as MODULE,o as PREPARED_ICON,d as PROFICIENCY_LEVEL_ICON,s as REQUIRED_CORE_MODULE_VERSION,l as RITUAL_ICON,u as RollHandler,p as SystemManager,r as Utils,register};
//# sourceMappingURL=token-action-hud-ed4e.min.js.map
